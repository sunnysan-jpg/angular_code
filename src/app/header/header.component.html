<div class="announcement-bar" role="status" aria-live="polite">
  <span class="announcement-text">
    Dear Customers, to place your order, make sure your cart totals ‚Çπ300 or more!
  </span>
</div>

<mat-toolbar color="primary" class="header">
  <span class="logo" routerLink="/">üçÑ Mushroom </span>

  <span class="spacer"></span>

  <div class="nav-icons">
    <!-- Products (Always visible) -->
    <button mat-icon-button routerLink="/products" matTooltip="Products">
      <i class="fas fa-store"></i>
    </button>

    <!-- If user is NOT logged in -->
    <ng-container *ngIf="!currentUser">
      <button mat-icon-button routerLink="/wishlist" matTooltip="Wishlist">
        <i class="fas fa-heart"></i>
      </button>

      <button mat-icon-button routerLink="/login" matTooltip="Login">
        <i class="fas fa-user"></i>
      </button>
    </ng-container>

    <!-- If user IS logged in -->
    <ng-container *ngIf="currentUser">
      <button mat-icon-button routerLink="/cart" matTooltip="Cart">
        <i class="fas fa-shopping-cart"></i>
      </button>

      <button mat-icon-button routerLink="/orders" matTooltip="Orders">
        <i class="fas fa-receipt"></i>
      </button>

      <!-- User menu (includes logout) -->
      <button mat-icon-button [matMenuTriggerFor]="userMenu" matTooltip="Account">
        <i class="fas fa-user"></i>
      </button>

      <mat-menu #userMenu="matMenu">
        <button mat-menu-item (click)="logout()">
          <i class="fas fa-sign-out-alt"></i>
          Logout
        </button>
      </mat-menu>
    </ng-container>
  </div>

      <div class="mobile-only" style="padding-bottom: 10px;">
      <button mat-icon-button [matMenuTriggerFor]="mobileMenu" aria-label="Open menu">
        <i class="fas fa-bars" aria-hidden="true"></i>
      </button>
    </div>
</mat-toolbar>


<mat-menu #mobileMenu="matMenu">
  <button mat-menu-item routerLink="/products">
    <i class="fas fa-store"></i><span>Products</span>
  </button>

  <ng-container *ngIf="!currentUser">
    <button mat-menu-item routerLink="/wishlist">
      <i class="fas fa-heart"></i><span>Wishlist</span>
    </button>
    <button mat-menu-item routerLink="/login">
      <i class="fas fa-user"></i><span>Login</span>
    </button>
  </ng-container>

  <ng-container *ngIf="currentUser">
    <button mat-menu-item routerLink="/cart">
      <i class="fas fa-shopping-cart"></i><span>Cart</span>
    </button>
    <button mat-menu-item routerLink="/orders">
      <i class="fas fa-receipt"></i><span>Orders</span>
    </button>
    <button mat-menu-item routerLink="/profile">
      <i class="fas fa-id-card"></i><span>Profile</span>
    </button>
    <button mat-menu-item (click)="logout()">
      <i class="fas fa-sign-out-alt"></i><span>Logout</span>
    </button>
  </ng-container>
</mat-menu>
